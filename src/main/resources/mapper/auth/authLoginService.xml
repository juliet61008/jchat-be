<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jchat.auth.mapper.AuthLoginMapper">
    <sql id="selectTboUser">
        id                          as id
        , name                      as name
        , birth                     as birth
        , email_id || email_domain  as email
    </sql>

    <select id="searchAuthLogin" resultType="com.jchat.auth.dto.UserInfoDto">
        select /* [autoLoginService.searchAuthLogin] 로그인 인증 조회 [juliet61008/25.12.03]*/
            <include refid="selectTboUser" />
        from
            tbo_user
        where
            id = #{id}
        and secn_yn = 'N'

    </select>

    <select id="searchPasswordById" resultType="com.jchat.auth.dto.PasswordByIdResDto">
        select /* [autoLoginService.searchPasswordById] 아이디로 비밀번호 조회 [juliet61008/25.12.09]*/
            password
        from
            tbo_user
        where
            id = #{id}
        and secn_yn = 'N'
    </select>
</mapper>